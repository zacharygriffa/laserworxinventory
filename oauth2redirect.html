<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Redirecting…</title>
    <script>
      console.log("DEBUG: Script loaded");

      // Show debug info on the page
      document.addEventListener("DOMContentLoaded", () => {
        const debug = document.getElementById("debug");
        debug.innerHTML += "<p>DEBUG: Page loaded</p>";

        const url = window.location.href;
        debug.innerHTML += `<p>DEBUG: Full URL = ${url}</p>`;
        console.log("DEBUG: Full URL =", url);

        const query = url.split("?")[1];
        debug.innerHTML += `<p>DEBUG: Query = ${query}</p>`;
        console.log("DEBUG: Query =", query);

        const redirectUrl = "laserworxinventory://oauthredirect?" + query;
        debug.innerHTML += `<p>DEBUG: Redirecting to = ${redirectUrl}</p>`;
        console.log("DEBUG: Redirecting to =", redirectUrl);

        // Perform redirect
        window.location.replace(redirectUrl);
      });
    </script>
  </head>
  <body>
    <h3>Redirecting…</h3>
    <div id="debug" style="font-family: monospace; margin-top: 20px;">
      <p>DEBUG: Starting…</p>
    </div>
  </body>
</html>
